---
project: chsrc
stars: 4113
description: chsrc å…¨å¹³å°é€šç”¨æ¢æºå·¥å…·ä¸æ¡†æ¶. Change Source everywhere for every software
url: https://github.com/RubyMetric/chsrc
---

å…¨å¹³å°é€šç”¨æ¢æºå·¥å…·ä¸æ¡†æ¶ `chsrc`ï¼Œ**ç›®æ ‡æ”¯æŒ Linux, Windows (MSYS2, Cygwin), macOS, BSD ç­‰å°½å¯èƒ½å¤šçš„æ“ä½œç³»ç»Ÿç¯å¢ƒï¼Œé¾™èŠ¯ã€é£è…¾ã€RISC-V ç­‰å°½å¯èƒ½å¤šçš„ CPU**ã€‚

æˆ‘ä»¬ä½¿ç”¨ **C99** æ¥å®Œæˆä¸Šè¿°ç›®æ ‡ã€‚æˆ‘ä»¬å¹¶ä¸ä½¿ç”¨ Python æˆ– JS ç­‰è§£é‡Šè¯­è¨€ï¼Œå› ä¸ºä¸€ä¸ªç®€å•çš„æ¢æºå·¥å…·ï¼Œä¸åº”è¯¥å¼ºè¡Œå¡ç»™ç”¨æˆ·ä¸€ä¸ªåºå¤§çš„è§£é‡Šå™¨å’Œæ•°åã€æ•°ç™¾ MB å…¶ä»–æ–‡ä»¶ã€‚

æœ¬è½¯ä»¶ä¸º**è‡ªç”±è½¯ä»¶**ï¼ŒSDPX è½¯ä»¶è®¸å¯è¯ä¸º `GPL-3.0-or-later and MIT`

  

  

ğŸ¤ åä½œä¸è´¡çŒ®
--------

Note

**`chsrc` å¯æ¢æº 60+ ç›®æ ‡ã€‚æ¯ä¸ªäººä»…ä»…è´¡çŒ®å’Œç»´æŠ¤è‡ªå·±ç†Ÿæ‚‰çš„éƒ¨åˆ†ï¼Œå›æŠ¥æ˜¯å¾—åˆ°å…¶ä»–æ‰€æœ‰é¢†åŸŸä¸“å®¶çš„å¸®åŠ©**ã€‚æ¬¢è¿å¯¹ GitHubã€Gitee åä½œä¸ç†Ÿæ‚‰çš„äººä»¥æ­¤ä¸ºå¥‘æœºå­¦ä¹ å‚ä¸è´¡çŒ®, æ¬¢è¿ä»»ä½•ç¼–ç¨‹åˆå­¦è€…å‚ä¸è´¡çŒ®ï¼Œä½œè€…å¯æä¾›ä¸€å®šçš„ è´¡çŒ®æŒ‡å¯¼

Tip

**`chsrc` ä¸ä»…æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªæ¢æºæ¡†æ¶ï¼Œå®ƒç”šè‡³ä½¿ä½ èƒ½å¤Ÿåœ¨ä¸äº†è§£Cè¯­è¨€çš„æƒ…å†µä¸‹ç¼–å†™å‡ºæ–°çš„æ¢æºæ–¹æ³•(recipe)ã€‚**

ç«‹åˆ»ä¸ºä¸€ä¸ªæ–°è½¯ä»¶æ·»åŠ æ¢æºæ–¹æ³•ï¼Write A Recipe Even If You Don't Know C

  

å¯å‚ä¸çš„ä»»åŠ¡ä¸æŒ‘æˆ˜ï¼š

1.  \[HELP\] æä¾›é»˜è®¤æºåœ°å€ï¼Œå¦‚Debian,Maven,PHP composerç­‰çš„é»˜è®¤æºURLï¼Œå¸®åŠ©æˆ‘ä»¬è¿›è¡Œ `chsrc reset`
    
2.  \[Challenge\] CentOS (Stream) Recipe
    

  
å·²ç”±è´¡çŒ®è€…å®Œæˆçš„æŒ‘æˆ˜

1.  \[Challenge\] ç¼–å†™ç»Ÿä¸€å®‰è£…çš„ shell å’Œ PowerShell è„šæœ¬
    
    å·²ç”± @Efterklang ä¸ @xuan å®Œæˆ
    

é•œåƒç«™å¯ç”¨æ€§

1.  https://github.com/RubyMetric/chsrc/wiki
2.  https://github.com/RubyMetric/chsrc/discussions

æ‰“åŒ…

æƒ³é€šè¿‡ `flatpak`,`snap`,`pacman`,`apt`,`dnf` ç­‰ç³»ç»ŸåŒ…ç®¡ç†å·¥å…·æ¥å®‰è£…å’Œæ›´æ–°`chsrc`ï¼Ÿè‹¥æ‚¨å¯æä¾›ç»´æŠ¤ï¼Œè¯·è®¿é—® issue#16 on GitHub

-   `Homebrew`
-   `Scoop`
-   `AUR`
-   `Flatpak`
-   `snap`
-   ç¼ºä¹å…¶ä»–å¹³å°/åŒ…ç»´æŠ¤è€…

  

ğŸ“Œ ç¤ºä¾‹
-----

  

ğŸš€ å®‰è£…
-----

Important

è‹¥é€šè¿‡ä¸‹è¿°æ‰‹åŠ¨æ–¹å¼å®‰è£…ï¼Œåˆ™ä¼šä¸‹è½½åˆ°å½“å‰ç›®å½•ï¼Œå¯ç›´æ¥é€šè¿‡ `./chsrc` è¿è¡Œ

Windows

-   å¯é€šè¿‡ `scoop` å®‰è£…ï¼Œæ„Ÿè°¢ @Gn3po4g ä¸ @niheaven

$ scoop install chsrc

  

-   å¯é€šè¿‡ `PowerShell` è„šæœ¬ä¸€é”®ä¸‹è½½æœ€æ–°ç‰ˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ„Ÿè°¢ @xuan
    
    è‹¥ä¸‹æ–¹é“¾æ¥æ— æ³•è®¿é—®ï¼Œå¯ä½¿ç”¨ `https://gitee.com/RubyMetric/chsrc/raw/main/tool/installer.ps1` æ›¿ä»£
    

$ iwr \-useb "https://chsrc.run/windows" | iex

  

-   æˆ–æ‰‹åŠ¨ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¿™æ˜¯æœ€æ–°ç‰ˆï¼Œå¾€å¾€æ¯” `scoop` æä¾›çš„æ›´æ–°ï¼Œé€‚ç”¨äºä¿®å¤ Bugã€æ·»åŠ æ–°åŠŸèƒ½ååŠæ—¶ä½¿ç”¨ï¼Œä»¥åŠæœªå®‰è£… `scoop` æ—¶

# x64
curl -L https://gitee.com/RubyMetric/chsrc/releases/download/pre/chsrc-x64-windows.exe -o chsrc.exe

# x86
curl -L https://gitee.com/RubyMetric/chsrc/releases/download/pre/chsrc-x86-windows.exe -o chsrc.exe

Linux

-   æ”¯æŒ `AUR`ï¼Œå¯é€šè¿‡ `yay` å®‰è£…ï¼Œæ„Ÿè°¢ @Jerry-Terrasse

# AUR
$ yay -S chsrc-bin # Binary from GitHub Release
$ yay -S chsrc-git # Build  from the latest main branch (stable)
$ yay -S chsrc     # Build  from GitHub Release

  

-   å¯é€šè¿‡ `shell` è„šæœ¬ä¸€é”®å®‰è£…æœ€æ–°ç‰ˆï¼Œæ„Ÿè°¢ @Efterklang ä¸ @xuan
    
    è‹¥ä¸‹æ–¹é“¾æ¥æ— æ³•è®¿é—®ï¼Œå¯ä½¿ç”¨ `https://gitee.com/RubyMetric/chsrc/raw/main/tool/installer.sh` æ›¿ä»£
    

# érootç”¨æˆ·é»˜è®¤å®‰è£…è‡³ ~/.local/bin
$ curl https://chsrc.run/posix | bash

# rootç”¨æˆ·é»˜è®¤å®‰è£…è‡³ /usr/local/bin
$ curl https://chsrc.run/posix | sudo bash

# ä½¿ç”¨ -d æŒ‡å®šç›®å½•å®‰è£…
$ curl https://chsrc.run/posix | bash -s -- -d ./

# ä½¿ç”¨ -l en è¾“å‡ºè‹±æ–‡
$ curl https://chsrc.run/posix | bash -s -- -l en

  

-   å¯æ‰‹åŠ¨ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶å®‰è£…

# x64
curl -L https://gitee.com/RubyMetric/chsrc/releases/download/pre/chsrc-x64-linux -o chsrc; chmod +x ./chsrc

# aarch64
curl -L https://gitee.com/RubyMetric/chsrc/releases/download/pre/chsrc-aarch64-linux -o chsrc; chmod +x ./chsrc

# riscv64
curl -L https://gitee.com/RubyMetric/chsrc/releases/download/pre/chsrc-riscv64-linux -o chsrc; chmod +x ./chsrc

# armv7
curl -L https://gitee.com/RubyMetric/chsrc/releases/download/pre/chsrc-armv7-linux -o chsrc; chmod +x ./chsrc

macOS

-   å¯é€šè¿‡ `homebrew` å®‰è£…ï¼Œæ„Ÿè°¢ @Aaron-212 ä¸ @chenrui333

$ brew install chsrc

  

-   å¯é€šè¿‡ `shell` è„šæœ¬å®‰è£…æœ€æ–°ç‰ˆï¼Œæ„Ÿè°¢ @Efterklang ä¸ @xuan
    
    è‹¥ä¸‹æ–¹é“¾æ¥æ— æ³•è®¿é—®ï¼Œå¯ä½¿ç”¨ `https://gitee.com/RubyMetric/chsrc/raw/main/tool/installer.sh` æ›¿ä»£
    

# érootç”¨æˆ·é»˜è®¤å®‰è£…è‡³ ~/.local/bin
$ curl https://chsrc.run/posix | bash

# rootç”¨æˆ·é»˜è®¤å®‰è£…è‡³ /usr/local/bin
$ curl https://chsrc.run/posix | sudo bash

# ä½¿ç”¨ -d æŒ‡å®šç›®å½•å®‰è£…
$ curl https://chsrc.run/posix | bash -s -- -d ./

# ä½¿ç”¨ -l en è¾“å‡ºè‹±æ–‡
$ curl https://chsrc.run/posix | bash -s -- -l en

  

-   æˆ–æ‰‹åŠ¨ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¿™æ˜¯æœ€æ–°ç‰ˆï¼Œå¾€å¾€æ¯” `homebrew` æä¾›çš„æ›´æ–°ï¼Œé€‚ç”¨äºä¿®å¤ Bugã€æ·»åŠ æ–°åŠŸèƒ½ååŠæ—¶ä½¿ç”¨

# arm64/aarch64
curl -L https://gitee.com/RubyMetric/chsrc/releases/download/pre/chsrc-aarch64-macos -o chsrc; chmod +x ./chsrc

# x64
curl -L https://gitee.com/RubyMetric/chsrc/releases/download/pre/chsrc-x64-macos -o chsrc; chmod +x ./chsrc

BSD

$ git clone https://gitee.com/RubyMetric/chsrc.git; cd chsrc
$ clang -Iinclude src/chsrc-main.c -o chsrc

å…¶ä»–å¹³å°

$ git clone https://gitee.com/RubyMetric/chsrc.git; cd chsrc; make

  

ğŸ’¡ ä½¿ç”¨
-----

ä½¿ç”¨: chsrc <command\> \[options\] \[target\] \[mirror\]

help                      # æ‰“å°æ­¤å¸®åŠ©ï¼Œæˆ– h, -h, --help
issue                     # æŸ¥çœ‹ç›¸å…³issue

list (æˆ– ls, æˆ– l)        # åˆ—å‡ºå¯ç”¨é•œåƒæºï¼Œå’Œå¯æ¢æºç›®æ ‡
list mirror/target        # åˆ—å‡ºå¯ç”¨é•œåƒæºï¼Œæˆ–å¯æ¢æºç›®æ ‡
list os/lang/ware         # åˆ—å‡ºå¯æ¢æºçš„æ“ä½œç³»ç»Ÿ/ç¼–ç¨‹è¯­è¨€/è½¯ä»¶

measure <target\>          # å¯¹è¯¥ç›®æ ‡æ‰€æœ‰æºæµ‹é€Ÿ
cesu    <target\>

list <target\>             # æŸ¥çœ‹è¯¥ç›®æ ‡å¯ç”¨æºä¸æ”¯æŒåŠŸèƒ½
get  <target\>             # æŸ¥çœ‹è¯¥ç›®æ ‡å½“å‰æºçš„ä½¿ç”¨æƒ…å†µ

set  <target\>             # æ¢æºï¼Œè‡ªåŠ¨æµ‹é€ŸåæŒ‘é€‰æœ€å¿«æº
set  <target\>  first      # æ¢æºï¼Œä½¿ç”¨ç»´æŠ¤å›¢é˜Ÿæµ‹é€Ÿç¬¬ä¸€çš„æº
set  <target\> <mirror\>    # æ¢æºï¼ŒæŒ‡å®šä½¿ç”¨æŸé•œåƒç«™ (é€šè¿‡listå‘½ä»¤æŸ¥çœ‹)
set  <target\> https://url # æ¢æºï¼Œç”¨æˆ·è‡ªå®šä¹‰æºURL
reset <target\>            # é‡ç½®ï¼Œä½¿ç”¨ä¸Šæ¸¸é»˜è®¤ä½¿ç”¨çš„æº

é€‰é¡¹:
-dry                      # Dry Runï¼Œæ¨¡æ‹Ÿæ¢æºè¿‡ç¨‹ï¼Œå‘½ä»¤ä»…æ‰“å°å¹¶ä¸è¿è¡Œ
-local                    # ä»…å¯¹æŸé¡¹ç›®è€Œéå…¨å±€æ¢æº (ä»…éƒ¨åˆ†è½¯ä»¶å¦‚bundler,pdmæ”¯æŒ)
-ipv6                     # ä½¿ç”¨IPv6æµ‹é€Ÿ
-en(glish)                # ä½¿ç”¨è‹±æ–‡è¾“å‡º
-no-color                 # æ— é¢œè‰²è¾“å‡º

  

è‡ªåŠ¨æµ‹é€Ÿï¼Œå¯»æ‰¾æœ€å¿«è€…ï¼Œæ¢æº

    $ chsrc set ruby

ä¸æƒ³è‡ªåŠ¨æµ‹é€Ÿçš„æ—¶å€™ï¼Œå¯ä½¿ç”¨ç»´æŠ¤å›¢é˜Ÿæµ‹è¯•çš„æœ€å¿«é•œåƒç«™

    $ chsrc set ruby first

å…ˆåˆ—å‡ºå¯ç”¨çš„é•œåƒç«™ï¼Œç„¶åé€‰æ‹©å…¶ä¸€ï¼Œå¦‚ä½¿ç”¨ RubyChina ä½œä¸ºé•œåƒç«™

    $ chsrc ls  ruby
    $ chsrc set ruby rubychina

è‹¥æ‚¨æœ‰è‡ªå·±çš„é•œåƒåœ°å€ï¼Œä½¿ç”¨è‡ªå®šä¹‰URL

    $ chsrc set ruby https://gems.ruby-china.com/

å¯¹æ”¯æŒ \*é¡¹ç›®çº§\* æ¢æºçš„ç›®æ ‡ï¼Œå¯ä»¥é¿å…å…¨å±€ï¼ˆ\*ç³»ç»Ÿçº§\* æˆ– \*ç”¨æˆ·çº§\*ï¼‰æ¢æº

    $ chsrc set -local bundler
    $ chsrc set -local pdm

  

ç¼–ç¨‹è¯­è¨€å¼€å‘
------

chsrc set ruby|rb|gem|bundler|rubygems

chsrc set python | py | pypi # åŒæ—¶æ¢ pip, poetry å’Œ pdm è¿™3ä¸ªåŒ…ç®¡ç†å™¨ï¼Œä¹Ÿå¯ä»¥3ä¸ªç‹¬ç«‹æ¢æº
  chsrc set pip
  chsrc set poetry
  chsrc set pdm

chsrc set node | nodejs # åŒæ—¶æ¢ npm, yarn å’Œ pnpm è¿™3ä¸ªåŒ…ç®¡ç†å™¨ï¼Œä¹Ÿå¯ä»¥3ä¸ªç‹¬ç«‹æ¢æº
  chsrc set npm
  chsrc set yarn
  chsrc set pnpm

chsrc set nvm
chsrc set bun

chsrc set perl | cpan
chsrc set php  | composer
chsrc set lua  | luarocks

chsrc set rust | cargo | crate
chsrc set rustup

chsrc set go
chsrc set java    | maven | mvn | gradle
chsrc set clojure | clojars
chsrc set dart    | pub
chsrc set flutter
chsrc set haskell | hackage | cabal | stack
chsrc set ocaml   | opam

# åŒæ—¶ä¼šä¸º bioconductor æ¢æº
chsrc set r | cran
chsrc set julia

  

æ“ä½œç³»ç»Ÿ
----

sudo chsrc set ubuntu
sudo chsrc set linuxmint | mint
sudo chsrc set debian
sudo chsrc set fedora
sudo chsrc set suse  | opensuse
sudo chsrc set kali
sudo chsrc set arch
sudo chsrc set archlinuxcn
sudo chsrc set manjaro
sudo chsrc set gentoo
sudo chsrc set rocky | rockylinux
sudo chsrc set alma  | almalinux
sudo chsrc set alpine
sudo chsrc set void  | voidlinux
sudo chsrc set solus
sudo chsrc set ros   | ros2
sudo chsrc set trisquel
sudo chsrc set lite  | linuxlite
sudo chsrc set raspi | raspberrypi
sudo chsrc set armbian
sudo chsrc set openwrt

sudo chsrc set openeuler
sudo chsrc set openanolis | anolis
sudo chsrc set openkylin
sudo chsrc set deepin

chsrc set msys2 | msys

# BSD
sudo chsrc set freebsd
sudo chsrc set openbsd
sudo chsrc set netbsd

  

è½¯ä»¶
--

chsrc set winget
chsrc set brew      | homebrew
chsrc set cocoapods | cocoa | pod
chsrc set dockerhub | docker
chsrc set flathub   | flatpak
chsrc set nix
chsrc set guix
chsrc set emacs  | elpa
chsrc set tex    | ctan | latex | texlive | miktex
chsrc set conda  | anaconda

  

ğŸ› ï¸ å¼€å‘
------

è¯·å®‰è£…å¥½ `gcc`æˆ–`clang` å’Œ `make` ä»¥åŠ `curl`

# ä½¿ç”¨ dev åˆ†æ”¯å¼€å‘
git clone https://gitee.com/RubyMetric/chsrc.git -b dev

make          # é»˜è®¤ä½¿ç”¨ cc ç¼–è¯‘
make CC=clang # ä½¿ç”¨ clang ç¼–è¯‘
make CC=gcc   # ä½¿ç”¨ gcc   ç¼–è¯‘

make test    # æµ‹è¯•å‘½ä»¤
make test-xy # æµ‹è¯• xy.h
make clean

  

ğŸ“ è®¸å¯è¯
------

-   `chsrc` ä¸»ç¨‹åºé‡‡ç”¨ `GPL-3.0-or-later` è®¸å¯è¯ï¼Œä¿è¯è¯¥è½¯ä»¶çš„æ°¸ä¹…è‡ªç”±
-   `xy.h` ä½¿ç”¨ `MIT` è®¸å¯è¯ï¼Œä¿è¯è¯¥åº“å¯ä»¥åœ¨å°½å¯èƒ½å¤šçš„æƒ…å†µä¸‹å¤ç”¨

  

â¤ï¸ è‡´è°¢
-----

æ„Ÿè°¢å„ä¸ªé•œåƒç«™æä¾›çš„ä¼˜è´¨å…è´¹é•œåƒæœåŠ¡

1.  mirror.c åŒ…å«äº†é€šç”¨çš„é•œåƒç«™ä¿¡æ¯
2.  å„ä¸ªrecipeå†…éƒ¨å®šä¹‰çš„ä¸“ç”¨é•œåƒç«™

å¦å¤–ç‰¹åˆ«æ„Ÿè°¢ä»¥ä¸‹ç»„ç»‡æˆ–é¡¹ç›®:

1.  MirrorZ æ•™è‚²ç½‘é•œåƒç«™
2.  æ¸…åå¤§å­¦ Tuna
3.  ä¸Šæµ·äº¤é€šå¤§å­¦è½¯ä»¶æºé•œåƒæœåŠ¡
4.  ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ Linux ç”¨æˆ·åä¼š
5.  Thanks Mirror é¡¹ç›® by @eryajf

  

ğŸš€ èµèµæ”¯æŒ
-------

ä½ æ˜¯å¦å› ä¸ºä½¿ç”¨ `chsrc` è€ŒèŠ‚çœäº†æ—¶é—´å’Œç²¾åŠ› or whatever?
